
<!DOCTYPE html>

<html lang="es">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

  <title>CTL</title>

  <link rel="manifest" href="/CTL/manifest.json" />

  <meta name="theme-color" content="#ff7a00" />

  <script>

    if ("serviceWorker" in navigator) {

      navigator.serviceWorker.register("service-worker.js");

    }

  </script>

  <link rel="stylesheet" href="style.css" />

</head>

<body>

  <div class="card">

<img id="img1" class="image-box" src="logo.png="Foto 1" />



    <div id="inputs-container">

    <div class="input-field">

        <input type="text" id="apellido" placeholder="Apellido" />

      </div>



      <div class="input-field">

        <input type="text" id="nombre" placeholder="Nombre" />

      </div>

      <div class="input-field">

        <input type="text" id="numero" placeholder="codigo" />

      </div>

      <div class="input-field">

        <label>Foto inferior:</label>

        <input type="file" id="foto2" accept="image/*" />

      </div>

      <button id="confirmar">Confirmar</button>

    </div>



    <h2 id="out-apellido">APELLIDO</h2>

    <p id="out-nombre">NOMBRE</p>

    <p id="out-num">NUM</p>

    <img id="img2" class="image-box" src="" alt="Foto 2" />

    <h3>ALUMNO</h3>

    <div class="barcode" id="barcode"></div>

    <div class="moving-bar"></div>

  </div>



  <script>

 const apellidoInput = document.getElementById("apellido");

    const outApellido = document.getElementById("out-apellido");



    const nombreInput = document.getElementById("nombre");

    const numeroInput = document.getElementById("numero");

    const outNombre = document.getElementById("out-nombre");

    const outNum = document.getElementById("out-num");

    const confirmarBtn = document.getElementById("confirmar");

    const inputsContainer = document.getElementById("inputs-container");



apellidoInput.addEventListener("input", () => {

      outApellido.textContent = apellidoInput.value.toUpperCase();

    });



    nombreInput.addEventListener("input", () => {

      outNombre.textContent = nombreInput.value.toUpperCase();

    });



    numeroInput.addEventListener("input", () => {

      outNum.textContent = numeroInput.value.toUpperCase();

    });



    function loadImage(input, targetId) {

      const file = input.files[0];

      const reader = new FileReader();

      reader.onload = function(e) {

        const img = document.getElementById(targetId);

        img.src = e.target.result;

        img.style.display = "block";

      };

      if (file) {

        reader.readAsDataURL(file);

      }

    }



    document.getElementById("foto2").addEventListener("change", function () {

      loadImage(this, "img2");

    });



    function generarBarras() {

      const barcode = document.getElementById("barcode");

      barcode.innerHTML = "";

      const numBars = 35;

      for (let i = 0; i < numBars; i++) {

        const bar = document.createElement("div");

        bar.className = "bar";

        const randomWidth = 2 + Math.floor(Math.random() * 6);

        bar.style.width = `${randomWidth}px`;

        const spacing = Math.random() * 4.5;

        bar.style.margin = `0 ${spacing.toFixed(1)}px`;

        barcode.appendChild(bar);

      }

    }



    confirmarBtn.addEventListener("click", () => {

      if (nombreInput.value && numeroInput.value && apellidoInput.value) {

        inputsContainer.classList.add("hidden");

      }

    });



    generarBarras();

  </script>

</body>

</html>

